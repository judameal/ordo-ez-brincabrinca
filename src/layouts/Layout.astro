---
const { title } = Astro.props;
---

<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Portafolio de Stalin OrdoÃ±ez, desarrollador web apasionado por la tecnologÃ­a y el diseÃ±o." />
    <meta name="author" content="Stalin OrdoÃ±ez" />
    <meta property="og:title" content={title ? `${title} | Portafolio` : "Portafolio de Stalin OrdoÃ±ez"} />
    <meta property="og:description" content="Explora mis proyectos y habilidades como desarrollador web." />
    <meta property="og:type" content="website" />
    <link rel="icon" href="/favicon.ico" type="image/x-icon" /> <!-- Agrega un favicon real -->
    <title>{title ? `${title} | Portafolio` : "Portafolio de Stalin OrdoÃ±ez"}</title>

    <!-- Fuentes optimizadas -->
    <link href="https://fonts.googleapis.com/css2?family=Handlee&family=Poppins:wght@300;400;500;700&display=swap" rel="stylesheet" />

    <style>
      /* ðŸŽ¨ Variables CSS para temas (claro/oscuro) */
      :root {
        --color-bg: #0f172a;
        --color-paper: #fffaf3;
        --color-text: #2b2b2b;
        --color-accent: #2563eb;
        --color-nav-bg: rgba(255, 255, 255, 0.1);
        --color-shadow: rgba(0, 0, 0, 0.2);
      }

      [data-theme="dark"] {
        --color-bg: #1e293b;
        --color-paper: #334155;
        --color-text: #f1f5f9;
        --color-accent: #60a5fa;
        --color-nav-bg: rgba(0, 0, 0, 0.3);
        --color-shadow: rgba(0, 0, 0, 0.5);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: 'Poppins', sans-serif;
        background: radial-gradient(circle at center, #1e3a8a 0%, #0f172a 100%);
        overflow-x: hidden;
        color: var(--color-text);
        min-height: 100vh;
        position: relative;
        transition: background 0.3s ease, color 0.3s ease;
      }

      /* ðŸŒŒ Fondo animado optimizado */
      .background-animation {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
        z-index: -1;
        background: radial-gradient(circle at center, #1e40af 0%, #0f172a 100%);
      }

      .circle {
        position: absolute;
        bottom: -150px;
        width: 20px;
        height: 20px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 50%;
        animation: rise 12s infinite ease-in;
        will-change: transform, opacity; /* OptimizaciÃ³n de rendimiento */
      }

      @keyframes rise {
        0% {
          transform: translateY(0) scale(1);
          opacity: 0.5;
        }
        100% {
          transform: translateY(-110vh) scale(1.5);
          opacity: 0;
        }
      }

      /* Header con navegaciÃ³n */
      header {
        text-align: center;
        color: white;
        padding: 2rem 1rem;
        text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
        position: relative;
      }

      header h1 {
        font-size: clamp(1.8rem, 5vw, 2.5rem);
        letter-spacing: 1px;
        margin-bottom: 0.5rem;
      }

      header p {
        opacity: 0.9;
        font-size: clamp(0.9rem, 3vw, 1.1rem);
      }

      nav {
        background: var(--color-nav-bg);
        backdrop-filter: blur(10px);
        position: sticky;
        top: 0;
        z-index: 10;
        padding: 1rem;
        border-radius: 0 0 10px 10px;
        box-shadow: 0 2px 10px var(--color-shadow);
      }

      nav ul {
        list-style: none;
        display: flex;
        justify-content: center;
        gap: 2rem;
        flex-wrap: wrap;
      }

      nav a {
        color: white;
        text-decoration: none;
        font-weight: 500;
        transition: color 0.3s ease;
      }

      nav a:hover {
        color: var(--color-accent);
      }

      /* MenÃº hamburguesa para mÃ³viles */
      .menu-toggle {
        display: none;
        background: none;
        border: none;
        color: white;
        font-size: 1.5rem;
        cursor: pointer;
      }

      @media (max-width: 768px) {
        nav ul {
          display: none;
          flex-direction: column;
          gap: 1rem;
          position: absolute;
          top: 100%;
          left: 0;
          width: 100%;
          background: var(--color-nav-bg);
          padding: 1rem;
          border-radius: 0 0 10px 10px;
        }

        nav ul.open {
          display: flex;
        }

        .menu-toggle {
          display: block;
          position: absolute;
          right: 1rem;
          top: 1rem;
        }
      }

      /* Toggle de modo oscuro */
      .theme-toggle {
        position: absolute;
        top: 1rem;
        left: 1rem;
        background: var(--color-nav-bg);
        border: none;
        color: white;
        padding: 0.5rem;
        border-radius: 50%;
        cursor: pointer;
        transition: background 0.3s ease;
      }

      .theme-toggle:hover {
        background: rgba(255, 255, 255, 0.2);
      }

      main {
        max-width: 900px;
        margin: 2rem auto;
        background: var(--color-paper);
        border-radius: 10px;
        box-shadow: 0 0 30px var(--color-shadow);
        padding: 2rem;
        position: relative;
        z-index: 1;
        background-image: 
          repeating-linear-gradient(#f0e9da 0px, #f0e9da 1px, transparent 1px, transparent 24px),
          linear-gradient(90deg, #e9d7b7 1px, transparent 1px);
        background-size: 100% 25px, 100% 100%;
        line-height: 1.8;
        font-family: 'Handlee', cursive;
        animation: fadeIn 1.5s ease;
        transition: background 0.3s ease;
      }

      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
      }

      /* BotÃ³n de volver arriba */
      .scroll-to-top {
        position: fixed;
        bottom: 2rem;
        right: 2rem;
        background: var(--color-accent);
        color: white;
        border: none;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        font-size: 1.2rem;
        cursor: pointer;
        opacity: 0;
        transition: opacity 0.3s ease;
        z-index: 20;
      }

      .scroll-to-top.show {
        opacity: 1;
      }

      footer {
        text-align: center;
        color: white;
        padding: 2rem 1rem;
        font-size: 0.9rem;
        opacity: 0.7;
      }

      a {
        color: var(--color-accent);
        text-decoration: none;
        font-weight: bold;
        transition: color 0.3s ease;
      }

      a:hover {
        color: var(--color-accent);
        text-decoration: underline;
      }
    </style>
  </head>

  <body>
    <!-- Fondo animado -->
    <div class="background-animation">
      {Array.from({ length: 20 }).map((_, i) => (
        <div class="circle" style={`left: ${Math.random() * 100}%; animation-delay: ${Math.random() * 12}s;`}></div>
      ))}
    </div>

    <header>
      <button class="theme-toggle" aria-label="Cambiar tema" id="theme-toggle">ðŸŒ™</button>
      <h1> Portafolio de Stalin OrdoÃ±ez</h1>
      <p>Aprendiz de programacion y diseÃ±o Web</p>
      <nav>
        <button class="menu-toggle" aria-label="Abrir menÃº" id="menu-toggle">â˜°</button>
        <ul id="nav-menu">
          <li><a href="#inicio">Inicio</a></li>
          <li><a href="#acerca">Acerca de</a></li>
          <li><a href="#proyectos">Proyectos</a></li>
          <li><a href="#habilidades">Habilidades</a></li>
          <li><a href="#contacto">Contacto</a></li>
        </ul>
      </nav>
    </header>

    <main id="inicio">
      <slot />
    </main>

    <button class="scroll-to-top" aria-label="Volver arriba" id="scroll-to-top">â†‘</button>

    <script>
      // Toggle de modo oscuro
      const themeToggle = document.getElementById('theme-toggle');
      const body = document.body;
      themeToggle.addEventListener('click', () => {
        const currentTheme = body.getAttribute('data-theme');
        body.setAttribute('data-theme', currentTheme === 'dark' ? '' : 'dark');
        themeToggle.textContent = currentTheme === 'dark' ? 'ðŸŒ™' : 'â˜€ï¸';
      });

      // MenÃº hamburguesa
      const menuToggle = document.getElementById('menu-toggle');
      const navMenu = document.getElementById('nav-menu');
      menuToggle.addEventListener('click', () => {
        navMenu.classList.toggle('open');
      });

      // BotÃ³n de volver arriba
      const scrollToTopBtn = document.getElementById('scroll-to-top');
      window.addEventListener('scroll', () => {
        if (window.scrollY > 300) {
          scrollToTopBtn.classList.add('show');
        } else {
          scrollToTopBtn.classList.remove('show');
        }
      });
      scrollToTopBtn.addEventListener('click', () => {
        window.scrollTo({ top: 0, behavior: 'smooth' });
      });
    </script>
  </body>
</html>